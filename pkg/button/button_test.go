package button_test

import (
	"encoding/json"
	"fmt"
	"testing"

	"mccadecortez.me/cs2-demo/v2/pkg/button"
)

var unknown_masks = []uint64{
	528,
	512,
	0,
	1024,
	8589934592,
	8589934600,
	8,
	520,
	1032,
	34359740936,
	2560,
	516,
	532,
	16,
	1040,
	1028,
	1540,
	4,
	1029,
	517,
	5,
	34359738376,
	34359740424,
	2056,
	2048,
	1036,
	513,
	2568,
	65544,
	34359803912,
	66048,
	65536,
	66560,
	1536,
	1,
	1025,
	20,
	21,
	17,
	66568,
	67592,
	67596,
	67584,
	8192,
	8200,
	34359740416,
	2564,
	3588,
	3076,
	1044,
	34359738888,
	12,
	34359738880,
	3072,
	3080,
	524,
	8712,
	8704,
	525,
	521,
	40,
	66056,
	66576,
	66064,
	65548,
	65540,
	65556,
	65552,
	66052,
	67076,
	66564,
	67072,
	1537,
	9,
	1544,
	67088,
	1552,
	34359738377,
	34359738368,
	1033,
	1545,
	67080,
	66572,
	66060,
	32,
	66080,
	8589935616,
	34359804416,
	34359804424,
	1541,
	42949672968,
	11,
	10,
	2,
	34359738896,
	529,
	533,
	66068,
	1045,
	74256,
	8720,
	65545,
	65549,
	34359738384,
	8589935624,
	1041,
	1037,
	65537,
	66049,
	66561,
	42949672960,
	13,
	2576,
	3088,
	2064,
	2052,
	8589934596,
	68616,
	68608,
	1548,
	36,
	3584,
	3084,
	44,
	8589935104,
	8589935105,
	8589935113,
	8589934601,
	34359738889,
	8589935620,
	8589935112,
	8589934593,
	8589934608,
	8589934604,
	65557,
	65541,
	2049,
	1556,
	66053,
	66069,
	68096,
	3,
	65539,
	65538,
	34359740928,
	552,
}

// Visual test, because I can't verify this
func TestParseButtonMask(t *testing.T) {
	for _, mask := range unknown_masks {
		parsed := button.ParseButtonMask(mask)

		p, err := json.Marshal(parsed)

		if err != nil {
			panic(err)
		}

		fmt.Printf("- %v\n", string(p))
	}
}
